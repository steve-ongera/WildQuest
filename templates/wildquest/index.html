{% extends "base.html" %}
{% load static %}

{% block content %}
<!-- Hero Start -->
<div class="container-fluid pb-5 hero-header bg-light mb-5">
    <div class="container py-5">
        <div class="row g-5 align-items-center mb-5">
            <div class="col-lg-6">
                <h1 class="display-1 mb-4 animated slideInRight">Discover Kenya's <span class="text-primary">Wild Heart</span></h1>
                <h5 class="d-inline-block border border-2 border-white py-3 px-5 mb-0 animated slideInRight">
                    Your Gateway to Authentic African Adventures Since 1990</h5>
            </div>
            <div class="col-lg-6">
                <div class="owl-carousel header-carousel animated fadeIn">
                    <img class="img-fluid" src="{% static 'img/hero-slider-1.jpg' %}" alt="Kenya Safari">
                    <img class="img-fluid" src="{% static 'img/hero-slider-2.jpg' %}" alt="Maasai Mara Wildlife">
                    <img class="img-fluid" src="{% static 'img/hero-slider-3.jpg' %}" alt="Diani Beach">
                </div>
            </div>
        </div>
        <div class="row g-5 animated fadeIn">
            <div class="col-md-6 col-lg-3">
                <div class="d-flex align-items-center">
                    <div class="flex-shrink-0 btn-square border border-2 border-white me-3">
                        <i class="fa fa-binoculars text-primary"></i>
                    </div>
                    <h5 class="lh-base mb-0">Expert Safari Guides</h5>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="d-flex align-items-center">
                    <div class="flex-shrink-0 btn-square border border-2 border-white me-3">
                        <i class="fa fa-leaf text-primary"></i>
                    </div>
                    <h5 class="lh-base mb-0">Eco-Friendly Tours</h5>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="d-flex align-items-center">
                    <div class="flex-shrink-0 btn-square border border-2 border-white me-3">
                        <i class="fa fa-users text-primary"></i>
                    </div>
                    <h5 class="lh-base mb-0">Cultural Experiences</h5>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="d-flex align-items-center">
                    <div class="flex-shrink-0 btn-square border border-2 border-white me-3">
                        <i class="fa fa-hand-holding-usd text-primary"></i>
                    </div>
                    <h5 class="lh-base mb-0">Best Value Packages</h5>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Hero End -->

<!-- Featured Events Start -->
<div class="container-fluid py-5">
    <div class="container">
        <div class="text-center wow fadeIn" data-wow-delay="0.1s">
            <h1 class="mb-5">Featured <span class="text-uppercase text-primary bg-light px-2">Adventures</span></h1>
        </div>
        <div class="row g-4">
            {% for event in featured_events %}
            <div class="col-md-6 col-lg-4 wow fadeIn" data-wow-delay="0.{{ forloop.counter }}s">
                <div class="event-item position-relative overflow-hidden border rounded">
                    {% if event.images.first %}
                    <img class="img-fluid w-100" src="{{ event.images.first.image.url }}" alt="{{ event.title }}" style="height: 250px; object-fit: cover;">
                    {% else %}
                    <img class="img-fluid w-100" src="{% static 'img/default-event.jpg' %}" alt="{{ event.title }}" style="height: 250px; object-fit: cover;">
                    {% endif %}
                    
                    <div class="event-overlay position-absolute top-0 start-0 w-100 h-100 d-flex flex-column justify-content-center align-items-center text-center">
                        <div class="bg-white bg-opacity-90 p-4 rounded">
                            <span class="badge bg-primary mb-2">{{ event.category.name }}</span>
                            <h4 class="text-dark">{{ event.title }}</h4>
                            <p class="text-muted mb-3">{{ event.short_description|truncatewords:15 }}</p>
                            <div class="d-flex justify-content-between align-items-center mb-3">
                                <span class="text-primary fw-bold">KES {{ event.base_price|floatformat:0 }}</span>
                                <span class="text-muted">{{ event.duration_days }} days</span>
                            </div>
                            <a href="{% url 'event_detail' event.slug %}" class="btn btn-primary">View Details</a>
                        </div>
                    </div>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center">
                <p class="text-muted">No featured events available at the moment.</p>
            </div>
            {% endfor %}
        </div>
        
        {% if featured_events %}
        <div class="text-center mt-5">
            <a href="{% url 'events_list' %}" class="btn btn-outline-primary btn-lg">View All Adventures</a>
        </div>
        {% endif %}
    </div>
</div>
<!-- Featured Events End -->

<!-- Categories Start -->
<div class="container-fluid bg-light py-5">
    <div class="container">
        <div class="text-center wow fadeIn" data-wow-delay="0.1s">
            <h1 class="mb-5">Explore by <span class="text-uppercase text-primary bg-white px-2">Experience Type</span></h1>
        </div>
        <div class="row g-4">
            {% for category in popular_categories %}
            <div class="col-md-6 col-lg-4 wow fadeIn" data-wow-delay="0.{{ forloop.counter }}s">
                <div class="category-item text-center p-4 bg-white rounded shadow-sm h-100">
                    <div class="category-icon mb-3">
                        <i class="fa {{ category.icon|default:'fa-compass' }} fa-3x text-primary"></i>
                    </div>
                    <h4 class="mb-3">{{ category.name }}</h4>
                    <p class="text-muted mb-3">{{ category.description|truncatewords:20 }}</p>
                    <div class="mb-3">
                        <span class="badge bg-primary">{{ category.event_count }} Adventure{{ category.event_count|pluralize }}</span>
                    </div>
                    <a href="{% url 'category_events' category.slug %}" class="btn btn-outline-primary">Explore {{ category.name }}</a>
                </div>
            </div>
            {% empty %}
            <div class="col-12 text-center">
                <p class="text-muted">Categories coming soon...</p>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<!-- Categories End -->

<!-- About Preview Start -->
<div class="container-fluid py-5">
    <div class="container">
        <div class="row g-5 align-items-center">
            <div class="col-lg-6">
                <div class="row">
                    <div class="col-6 wow fadeIn" data-wow-delay="0.1s">
                        <img class="img-fluid rounded" src="{% static 'img/about-safari.jpg' %}" alt="Safari Guide">
                    </div>
                    <div class="col-6 wow fadeIn" data-wow-delay="0.3s">
                        <img class="img-fluid rounded h-75" src="{% static 'img/about-wildlife.jpg' %}" alt="Kenya Wildlife">
                        <div class="h-25 d-flex align-items-center text-center bg-primary px-4 rounded mt-2">
                            <h6 class="text-white lh-base mb-0">30+ Years of African Adventures</h6>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 wow fadeIn" data-wow-delay="0.5s">
                <h1 class="mb-4">Your <span class="text-uppercase text-primary bg-light px-2">Trusted</span> Kenya Adventure Partner</h1>
                <p class="mb-4">For over three decades, WildQuest Kenya has been connecting travelers with the authentic heart of Africa. From the Great Migration in Maasai Mara to the pristine beaches of the coast, we create unforgettable journeys that respect wildlife, support communities, and exceed expectations.</p>
                <div class="row g-3 mb-4">
                    <div class="col-sm-6">
                        <div class="d-flex align-items-center">
                            <i class="fa fa-check-circle text-primary me-2"></i>
                            <span>Expert Local Guides</span>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="d-flex align-items-center">
                            <i class="fa fa-check-circle text-primary me-2"></i>
                            <span>Sustainable Tourism</span>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="d-flex align-items-center">
                            <i class="fa fa-check-circle text-primary me-2"></i>
                            <span>24/7 Support</span>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="d-flex align-items-center">
                            <i class="fa fa-check-circle text-primary me-2"></i>
                            <span>Best Price Guarantee</span>
                        </div>
                    </div>
                </div>
                <a href="{% url 'about' %}" class="btn btn-primary me-3">Learn More</a>
                <a href="{% url 'contact' %}" class="btn btn-outline-primary">Plan Your Journey</a>
            </div>
        </div>
    </div>
</div>
<!-- About Preview End -->

<!-- Reviews Start -->
{% if recent_reviews %}
<div class="container-fluid bg-light py-5">
    <div class="container">
        <div class="text-center wow fadeIn" data-wow-delay="0.1s">
            <h1 class="mb-5">What Our <span class="text-uppercase text-primary bg-white px-2">Travelers Say</span></h1>
        </div>
        <div class="row g-4">
            {% for review in recent_reviews %}
            <div class="col-md-6 col-lg-4 wow fadeIn" data-wow-delay="0.{{ forloop.counter }}s">
                <div class="review-item bg-white p-4 rounded shadow-sm h-100">
                    <div class="review-rating mb-3">
                        {% for i in "12345" %}
                            {% if i|add:0 <= review.rating %}
                                <i class="fa fa-star text-warning"></i>
                            {% else %}
                                <i class="fa fa-star text-muted"></i>
                            {% endif %}
                        {% endfor %}
                    </div>
                    <h5 class="mb-3">{{ review.title }}</h5>
                    <p class="text-muted mb-3">{{ review.comment|truncatewords:25 }}</p>
                    <div class="review-meta">
                        <strong>{{ review.reviewer_name }}</strong>
                        <small class="text-muted d-block">{{ review.event.title }}</small>
                        <small class="text-muted">{{ review.created_at|date:"M d, Y" }}</small>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endif %}
<!-- Reviews End -->

<!-- Quick Booking CTA Start -->
<div class="container-fluid bg-primary py-5">
    <div class="container py-5">
        <div class="row g-5 align-items-center">
            <div class="col-lg-8 text-center text-lg-start">
                <h2 class="text-white mb-3">Ready for Your Kenyan Adventure?</h2>
                <p class="text-white mb-0">Book your safari, beach holiday, or cultural experience today. Our expert team is ready to create your perfect Kenyan journey.</p>
            </div>
            <div class="col-lg-4 text-center">
                <a href="{% url 'events_list' %}" class="btn btn-light btn-lg me-3">Browse Adventures</a>
                <a href="{% url 'contact' %}" class="btn btn-outline-light btn-lg">Contact Us</a>
            </div>
        </div>
    </div>
</div>
<!-- Quick Booking CTA End -->
{% endblock %}

{% block extra_css %}
<style>
    .event-item {
        transition: all 0.3s ease;
        height: 300px;
    }
    
    .event-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    }
    
    .event-overlay {
        opacity: 0;
        transition: all 0.3s ease;
        background: rgba(0, 0, 0, 0.7);
    }
    
    .event-item:hover .event-overlay {
        opacity: 1;
    }
    
    .category-item {
        transition: all 0.3s ease;
        border: 1px solid transparent;
    }
    
    .category-item:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        border-color: var(--bs-primary);
    }
    
    .review-item {
        transition: all 0.3s ease;
        border: 1px solid #f0f0f0;
    }
    
    .review-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        border-color: var(--bs-primary);
    }
    
    .hero-header {
        background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), 
                    url('{% static "img/hero-bg.jpg" %}') center center no-repeat;
        background-size: cover;
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
    // Initialize header carousel
    $(document).ready(function(){
        $(".header-carousel").owlCarousel({
            autoplay: true,
            smartSpeed: 1000,
            items: 1,
            dots: false,
            loop: true,
            nav: false
        });
    });
</script>
{% endblock %}